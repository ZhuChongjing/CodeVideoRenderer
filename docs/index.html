<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeVideoRenderer</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="furo.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
</head>
<body> 
    
    <div class="bg-glow"></div>

    <header>
        <div class="container">
            <a href="index.html" style="text-decoration: none;">
                <h1 class="logo">
                    <svg class="site-icon" width="40" height="40" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="logo_gradient" x1="0" y1="100" x2="100" y2="0" gradientUnits="userSpaceOnUse">
                                <stop offset="0%" stop-color="#3b82f6" />
                                <stop offset="100%" stop-color="#60a5fa" />
                            </linearGradient>
                            <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
                                <feGaussianBlur stdDeviation="3" result="blur" />
                                <feComposite in="SourceGraphic" in2="blur" operator="over" />
                            </filter>
                        </defs>
                        <rect x="15" y="15" width="70" height="70" rx="12" stroke="url(#logo_gradient)" stroke-width="6" fill="none"/>
                        <path d="M30 15V22 M50 15V22 M70 15V22" stroke="url(#logo_gradient)" stroke-width="4" stroke-linecap="round"/>
                        <path d="M30 78V85 M50 78V85 M70 78V85" stroke="url(#logo_gradient)" stroke-width="4" stroke-linecap="round"/>
                        <path d="M37 38 L57 50 L37 62" stroke="#f1f5f9" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" fill="none" style="filter: drop-shadow(0 0 5px rgba(255,255,255,0.5));"/>
                        <line x1="65" y1="32" x2="65" y2="68" stroke="#0DBC79" stroke-width="6" stroke-linecap="round" class="cursor-blink"/>
                    </svg>
                    <code>CodeVideoRenderer</code>
                </h1>
            </a>
            <nav>
                <a id="github-star-link" href="https://github.com/ZhuChongjing/CodeVideoRenderer" target="_blank" class="btn-github-star">
                    <span class="shine"></span>
                    <div class="content-left">
                        <i class="fab fa-github"></i>
                        <span style="margin-left: 4px;">Star on GitHub</span>
                    </div>
                    <div class="content-right">
                        <svg class="star-icon" fill="currentColor" viewBox="0 0 24 24">
                            <path clip-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z" fill-rule="evenodd" />
                        </svg>
                        <code id="star-count"></code>
                        <script>
                            fetch('https://api.github.com/repos/ZhuChongjing/CodeVideoRenderer')
                                .then(response => response.json())
                                .then(data => {
                                    document.getElementById('star-count').textContent = data.stargazers_count;
                                });
                        </script>
                    </div>
                </a>
                <a class="nav-button" id="github-link" href="https://github.com/ZhuChongjing/CodeVideoRenderer" target="_blank" title="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                <a class="nav-button" href="mailto:zhuchongjing_pypi@163.com" target="_blank" title="邮箱">
                    <i class="fas fa-envelope"></i>
                </a>
                <a class="nav-button" href="#docs" title="文档">
                    <i class="fas fa-book"></i>
                </a>
            </nav>
        </div>
    </header>

    <section id="hero" class="hero-section section-full-height">
        <div class="container">
            <div class="badge text-fade-in">最新版本：<code id="latest-version">---</code> <code id="release-time">---</code></div>
            <script>
                fetch('https://pypi.org/pypi/CodeVideoRenderer/json')
                    .then(response => response.json())
                    .then(data => {
                        const latestVersion = data.info.version;
                        document.getElementById('latest-version').textContent = 'v' + latestVersion;
                        const releaseTime = new Date(data.releases[latestVersion][0].upload_time).toLocaleString('zh-CN', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit',
                        });
                        document.getElementById('release-time').textContent = '(' + releaseTime + ')';
                        });
            </script>
            <h2 class="text-fade-in">
                让代码演示<br>
                <span class="gradient-text">极具电影感</span>
            </h2>
            <p class="text-fade-in">告别枯燥录屏。利用 Python 核心模块，生成带有智能运镜、语法高亮和丝滑动画的专业视频。</p>
            
            <div class="hero-btns text-fade-in">
                <a href="#product" class="btn btn-primary">探索核心技术</a>
                <span class="install-cmd">
                    pip install CodeVideoRenderer
                    <i class="far fa-copy copy-icon" onclick="navigator.clipboard.writeText('pip install CodeVideoRenderer'); alert('命令已复制！')"></i>
                </span>
            </div>
        </div>
    </section>

    <section id="product" class="section-padding">
        <div class="container">
            <h3 class="title-fade-in">一切，聚焦于你</h3>
            <p class="subtitle-fade-in">光标移动，摄像机即动。新增的<strong>微振荡律动</strong>算法，让每一次键盘敲击都充满生命力。</p>

            <div class="main-mockup-card scroll-zoom-in">
                <div class="window-bar">
                    <div class="dots">
                        <span class="dot red"></span>
                        <span class="dot yellow"></span>
                        <span class="dot green"></span>
                    </div>
                    <span class="title">demo.py</span>
                </div>
                <pre><code class="python">from CodeVideoRenderer import CameraFollowCursorCV
video = CameraFollowCursorCV(
    code_string="print('Hello, World!')",
    language="python"
)
video.render()</code></pre>
            </div>
        </div>
    </section>

    <section id="features" class="section-padding">
        <div class="container">
            <h3 class="title-fade-in">
                <p>精确可控的渲染引擎</p>
            </h3>
            <div class="feature-grid three-col">
                <div class="feature-card scroll-fade-in">
                    <div class="icon-box">
                        <i class="fas fa-camera" style="font-size: 24px;"></i>
                    </div>
                    <h4>动态运镜</h4>
                    <p class="feature-description">不仅动态适应长代码行，更引入了基于正弦波的<strong>微振荡</strong>效果，模拟呼吸感，消除机械运动的生硬。</p>
                </div>
                <div class="feature-card scroll-fade-in">
                    <div class="icon-box">
                        <i class="fas fa-keyboard"></i>
                    </div>
                    <h4>拟人输入</h4>
                    <p><strong>自定义</strong>打字间隔的随机范围。避免机械式输入，增强真实感。</p>
                </div>
                <div class="feature-card scroll-fade-in">
                    <div class="icon-box">
                        <i class="fas fa-text-height"></i>
                    </div>
                    <h4>排版控制</h4>
                    <p><strong>自定义</strong>代码行之间的垂直间距，精确控制代码文本的排版密度。</p>
                </div>
                <div class="feature-card scroll-fade-in">
                    <div class="icon-box">
                        <i class="fas fa-code"></i>
                    </div>
                    <h4>灵活输入</h4>
                    <p>支持<strong>直接输入</strong>代码字符串或读取文件，自动处理缩进与特殊字符，无缝集成工作流。</p>
                </div>
                    <div class="feature-card scroll-fade-in">
                        <div class="icon-box">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <h4>实时反馈</h4>
                        <p>终端全新升级，使用 <code class="class">rich</code><code>.</code><code class="class">panel</code> 展示详细摘要，实时显示渲染进度与耗时统计。</p>
                    </div>
                <div class="feature-card scroll-fade-in">
                    <div class="icon-box">
                        <i class="fab fa-python"></i>
                    </div>
                    <h4>科学计算</h4>
                    <p>引入 <code class="class">numpy</code> 进行高精度轨迹插值计算，保证 $\mathbb{M}\text{anim}$ 动画输出的极致丝滑。</p>
                </div>
            </div>
        </div>
    </section>

    <section id="start" class="section-padding elements-center">
        <div class="container">
            <h3 class="title-fade-in">
                <p>准备好开始了吗？</p>
            </h3>
            <p class="subtitle-fade-in"><code>CodeVideoRenderer</code> 简化了 $\mathbb{M}\text{anim}$ 的复杂性，使您专注于代码本身。</p>
            
            <div class="cta-group scroll-fade-in">
                <a href="https://github.com/ZhuChongjing/CodeVideoRenderer" target="_blank" class="btn btn-primary">
                    <i class="fab fa-github"></i> 前往 GitHub 仓库
                </a>
                <a href="#docs" class="btn btn-secondary">
                    阅读文档
                </a>
            </div>
        </div>
    </section>
    
    <section id="feedback" class="section-padding">
        <div class="container">
            <h3 class="title-fade-in">
                <p>我们欢迎反馈</p>
            </h3>
            <p class="subtitle-fade-in">您可以通过
                <a class="link-with-bg" href="https://www.douyin.com/user/MS4wLjABAAAARrTya1bIs9cvLXdWP7wo2ZiuYa3jAqQszrF4Qci58I1n8SQyd_6Rw9E8s2K3LfB2">抖音</a>
                <a class="link-with-bg" href="mailto:zhuchongjing_pypi@163.com">邮箱</a>
                <a class="link-with-bg" href="https://github.com/ZhuChongjing/CodeVideoRenderer/issues">GitHub仓库的Issues页面</a>
                与我们联系。
            </p>
            <div class="feedback-card">
                <div class="community-stats">
                    <div class="avatar-group">
                        <img src="./images/github_CN-WenYu.jpeg" alt="User" class="avatar">
                        <img src="./images/douyin_po_sui_xiao_hu_die_INFP.jpeg" alt="User" class="avatar">
                        <div class="avatar more">
                            <i class="fas fa-plus"></i>
                        </div>
                    </div>
                    
                    <h4>加入开发者社区</h4>
                    <p><code>CodeVideoRenderer</code> 正在被越来越多的开发者、教育工作者和技术博主使用。</p>
                    <p>无论您是制作教程、分享代码片段，还是进行技术演讲，这里都有您需要的一切。不仅如此，您还可以直接提出功能建议，共同塑造未来的版本。</p>
                </div>
            </div>
        </div>
    </section>

    <section id="docs">
        <h3 class="title-fade-in">文档</h3>
        <div class="container docs-layout">
            <!-- 左侧侧边栏导航 -->
            <aside class="docs-sidebar">
                <nav class="sidebar-nav">
                    <div class="nav-group">
                        <span class="nav-title">开始</span>
                        <a href="#intro" class="nav-link">简介</a>
                        <a href="#install" class="nav-link">安装</a>
                        <a href="#quickstart" class="nav-link">快速上手</a>
                    </div>
                    <div class="nav-group">
                        <span class="nav-title">核心类</span>
                        <a href="#CameraFollowCursorCV" class="nav-link"><code>CameraFollowCursorCV</code></a>
                        <a href="#init-params" class="nav-link">初始化参数</a>
                        <a href="#render-method" class="nav-link">渲染方法</a>
                    </div>
                    <div class="nav-group">
                        <span class="nav-title">进阶</span>
                        <a href="#input-logic" class="nav-link">输入源处理逻辑</a>
                        <a href="#algo" class="nav-link">动态相机算法</a>
                    </div>
                    <div class="nav-group">
                        <span class="nav-title">更新日志</span>
                        <a href="#1.1.1" class="nav-link"><code>v1.1.1</code></a>
                        <a href="#1.1.0" class="nav-link"><code>v1.1.0</code></a>
                        <a href="#1.0.9.post2" class="nav-link"><code>v1.0.9.post2</code></a>
                        <a href="#1.0.9.post1" class="nav-link"><code>v1.0.9.post1</code></a>
                        <a href="#1.0.9" class="nav-link"><code>v1.0.9</code></a>
                        <a href="#1.0.8.post1" class="nav-link"><code>v1.0.8.post1</code></a>
                        <a href="#1.0.8" class="nav-link"><code>v1.0.8</code></a>
                        <a href="#1.0.7.post3" class="nav-link"><code>v1.0.7.post3</code></a>
                        <a href="#1.0.7.post2" class="nav-link"><code>v1.0.7.post2</code></a>
                        <a href="#1.0.7.post1" class="nav-link"><code>v1.0.7.post1</code></a>
                        <a href="#1.0.7" class="nav-link"><code>v1.0.7</code></a>
                        <a href="#1.0.6" class="nav-link"><code>v1.0.6</code></a>
                        <a href="#1.0.5.post2" class="nav-link"><code>v1.0.5.post2</code></a>
                        <a href="#1.0.5.post1" class="nav-link"><code>v1.0.5.post1</code></a>
                        <a href="#1.0.5" class="nav-link"><code>v1.0.5</code></a>
                        <a href="#1.0.4" class="nav-link"><code>v1.0.4</code></a>
                        <a href="#1.0.3" class="nav-link"><code>v1.0.3</code></a>
                        <a href="#earlier" class="nav-link">更早</a>
                    </div>
                </nav>
            </aside>

            <!-- 右侧主内容 -->
            <main class="docs-content">

                <div class="admonition important">
                    <p class="admonition-title">文档版本检查</p>
                    <p class="admonition-text" id="docs-version-check">正在检测文档版本...</p>
                </div>
                <script>
                    const docsVersion = '1.1.1';
                    fetch('https://pypi.org/pypi/CodeVideoRenderer/json')
                        .then(response => response.json())
                        .then(data => {
                            const latestVersion = data.info.version;
                            const docsVersionCheck = document.getElementById('docs-version-check');
                            if (latestVersion === docsVersion) {
                                docsVersionCheck.innerHTML = `您正在查看的文档版本为 <code class="number">${docsVersion}</code>，已是最新版本。`;
                            } else {
                                docsVersionCheck.innerHTML = `您正在查看的文档版本为 <code class="number">${docsVersion}</code>，最新版本为 <code class="number">${latestVersion}</code>。最新版文档正在全力编写中，请耐心等待！`;
                            }})
                        .catch(error => {
                            const docsVersionCheck = document.getElementById('docs-version-check');
                            docsVersionCheck.innerHTML = `无法检测最新版本。您正在查看的文档版本为 <code class="number">${docsVersion}</code>。`;
                        });
                </script>

                <!-- 简介 -->
                <h1>开始</h1>
                <section id="intro">
                    <h2>简介</h2>
                    <p><code class="class">CameraFollowCursorCV</code> 是本库的核心类，专门设计用于模拟代码输入的动画过程。它通过逐行、逐字符的动画效果，配合平滑的摄像机跟随，创造出具有专业水准的代码演示视频。</p>
                </section>

                <!-- 安装 -->
                <section id="install">
                    <h2>安装</h2>
                    <div class="admonition tip">
                        <p class="admonition-title">安装要求</p>
                        <p class="admonition-text">
                            <strong>Python 版本要求</strong>
                            <a href="https://www.python.org/downloads/" target="_blank"><code style="color: white;">python>=3.9</code></a>
                        </p>
                        <p class="admonition-text">
                            <strong>Python 包依赖</strong>
                            <a href="https://pypi.org/project/manim" target="_blank"><code style="color: white;"><span class="class">manim</span>>=0.19.1</code></a>
                            <a href="https://pypi.org/project/rich" target="_blank"><code style="color: white;"><span class="class">rich</span>>=13.0.0</code></a>
                            <a href="https://pypi.org/project/numpy" target="_blank"><code style="color: white;"><span class="class">numpy</span></code></a>
                            <a href="https://pypi.org/project/proglog" target="_blank"><code style="color: white;"><span class="class">proglog</span></code></a>
                            <a href="https://pypi.org/project/moviepy" target="_blank"><code style="color: white;"><span class="class">moviepy</span></code></a>
                            <a href="https://pypi.org/project/pillow" target="_blank"><code style="color: white;"><span class="class">pillow</span></code></a>
                        </p>
                        <p class="admonition-text">
                            <strong>第三方软件依赖</strong>
                            <a href="https://ffmpeg.org/" target="_blank">FFmpeg</a>
                            <a href="https://miktex.org/download" target="_blank">MiKTeX</a>
                        </p>
                    </div>
                    <p>您可以通过以下命令安装：</p>
                    <div class="code-block-wrapper">
                        <pre><code class="bash">pip install CodeVideoRenderer</code></pre>
                        <button class="copy-btn" onclick="navigator.clipboard.writeText('pip install CodeVideoRenderer')"><i class="far fa-copy"></i></button>
                    </div>
                </section>

                <!-- 快速开始 -->
                <section id="quickstart">
                    <h2>快速上手</h2>
                    <p>以下代码展示了如何生成一个最简单的视频：</p>
                    
                    <div class="code-block-wrapper">
                        <pre><code class="python">from CodeVideoRenderer import CameraFollowCursorCV
    video = CameraFollowCursorCV(
        video_name="Demo",                    # 文件名
        code_string="print('Hello World!')",  # 代码
        language="python"                     # 语言
    )
    video.render()</code></pre>
                        <button class="copy-btn" onclick="navigator.clipboard.writeText(this.previousElementSibling.innerText)"><i class="far fa-copy"></i></button>
                    </div>
                    <p>渲染结束后，您将在终端看到 <code class="string">Demo.mp4</code> 文件的保存路径。</p>
                </section>

                <!-- 类定义 -->
                <h1>核心类</h1>
                <section id="CameraFollowCursorCV">
                    <h2><code class="class">CameraFollowCursorCV</code></h2>
                    <div class="versionchanged">
                        <p><span class="versionmodified">在<code>1.0.7.post2</code>版本中</span>将原名 <code class="class">CodeVideo</code> 改为 <code class="class">CameraFollowCursorCV</code></p>
                    </div>
                    <div class="versionremoved">
                        <p><span class="versionmodified">在<code>1.0.9</code>版本中</span>删除了参数<code class="variable">camera_floating_max_value</code>、<code class="variable">camera_move_interval</code>、<code class="variable">camera_move_duration</code></p>
                    </div>
                    <div class="versionchanged">
                        <p><span class="versionmodified">在<code>1.1.1</code>版本中</span>将参数 <code class="variable">language</code> 的类型由 <code class="class">str</code> 改为 <code class="class">PygmentsLanguage</code></p>
                    </div>
                    <p>该类继承并封装了 $\mathbb{M}\text{anim}$ 的场景逻辑，自动处理光标移动、换行、缩进以及摄像机的运动轨迹。</p>
                    <div class="admonition note">
                        <p class="admonition-title">参数类型检查</p>
                        <p class="admonition-text">该类会使用<code class="function">type_checker</code>来检查您传入的参数类型是否正确。</p>
                    </div>
                    <div class="code-block-wrapper">
                        <pre><code class="python">class CameraFollowCursorCV(
        video_name: str = "CameraFollowCursorCV",
        code_string: str = None,
        code_file: str = None,
        language: PygmentsLanguage = None,
        line_spacing: float | int = DEFAULT_LINE_SPACING,
        interval_range: tuple[float | int, float | int] = (DEFAULT_TYPE_INTERVAL, DEFAULT_TYPE_INTERVAL),
        camera_scale: float | int = 0.5
    )</code></pre>
                    </div>
                </section>

                <!-- 初始化参数 -->
                <section id="init-params">
                    <h3>初始化参数 <code class="function">__init__</code></h3>
                    <p>在创建实例时，您可以配置以下参数来控制视频的生成细节：</p>

                    <table class="docs-table">
                        <thead>
                            <tr>
                                <th style="width: 20%">参数名</th>
                                <th style="width: 20%">类型</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code class="variable">video_name</code></td>
                                <td><code class="class">str</code></td>
                                <td>输出视频的文件名（无需后缀）。</td>
                            </tr>
                            <tr>
                                <td><code class="variable">code_string</code></td>
                                <td><code class="class">str</code></td>
                                <td>直接传入的代码字符串。</td>
                            </tr>
                            <tr>
                                <td><code class="variable">code_file</code></td>
                                <td><code class="class">str</code></td>
                                <td>代码文件的路径。支持读取本地文件内容。</td>
                            </tr>
                            <tr>
                                <td><code class="variable">language</code></td>
                                <td><code class="class">PygmentsLanguage</code></td>
                                <td>用于语法高亮的语言名称（如 <code class="string">"python"</code>、<code class="string">"c++"</code>等）。</td>
                            </tr>
                            <tr>
                                <td><code class="variable">line_spacing</code></td>
                                <td><code><span class="class">float</span> | <span class="class">int</span></code></td>
                                <td>行间距。默认值基于配置常量，必须大于 <code class="number">0</code>。</td>
                            </tr>
                            <tr>
                                <td><code class="variable">interval_range</code></td>
                                <td><code class="class">tuple</code></td>
                                <td>打字间隔范围 <code>(<span class="variable">min</span>, <span class="variable">max</span>)</code>。单位为秒。</td>
                            </tr>
                            <tr>
                                <td><code class="variable">camera_scale</code></td>
                                <td><code><span class="class">float</span> | <span class="class">int</span></code></td>
                                <td>相机的初始缩放比例。默认为 <code class="number">0.5</code>。</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="admonition warning">
                        <p class="admonition-title">注意</p>
                        <p class="admonition-text"><code class="variable">code_string</code> 和 <code class="variable">code_file</code> 必须且只能提供其中一个。</p>
                        <p class="admonition-text">代码内容不能为空，且只能包含 <code class="constant">AVAILABLE_CHARACTERS</code>。</p>
                        <p class="admonition-text">所有时间相关参数必须大于或等于$\small\cfrac{1}{当前帧率}$（取七位小数）。</p>
                </section>

                <!-- 渲染方法 -->
                <section id="render-method">
                    <h3>渲染方法 <code><span class="function">render</span><span class="parenthesis-first">()</span></code></h3>
                    <div class="code-block-wrapper">
                        <pre><code class="python">def render(self, output: bool = True) -> None:</code></pre>
                    </div>
                    <p>启动 $\mathbb{M}\text{anim}$ 渲染流程，并显示包含速度和剩余时间的详细进度条。</p>
                    <div class="admonition note">
                        <p class="admonition-title">在 <code>1.1.0</code> 版本及以前</p>
                        <p class="admonition-text">渲染前会在控制台通过 <code class="class">rich</code><code>.</code><code class="class">panel</code> 打印任务摘要。</p>
                    </div>
                    <table class="docs-table">
                        <thead>
                            <tr>
                                <th style="width: 20%">参数名</th>
                                <th style="width: 20%">类型</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code class="variable">output</code></td>
                                <td><code class="class">bool</code></td>
                                <td>是否输出视频文件。默认值为 <code class="literal">True</code>。</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- 输入处理逻辑 -->
                <h1>进阶</h1>
                <section id="input-logic">
                    <h2>输入源处理逻辑</h2>
                    <p>库内部会对输入的代码进行严格的预处理，以保证渲染稳定性：</p>
                    <ol>
                        <li><strong>Tab 转换</strong>: 所有的制表符 <code class="string">\t</code> 会被自动展开为空格（默认宽度 <code class="number">4</code>）。</li>
                        <li><strong>字符校验</strong>: 自动检测代码中是否包含 $\mathbb{M}\text{anim}$ 无法渲染的非法字符。</li>
                        <li><strong>空行处理</strong>: 代码首尾的空行会被自动剔除，但保留段落间的空行以维持格式。</li>
                    </ol>
                </section>

                <!-- 算法 -->
                <section id="algo">
                    <h2>动态相机算法</h2>
                    
                    <h3>自适应缩放</h3>
                    <p>为了确保长代码行也能完整显示，系统每渲染一个字符，都会判断是否需要拉远镜头。</p>
                
                    <div class="math-block">
                        $$ D = \frac{X_\text{cam} - X_\text{origin}}{14.22} $$
                    </div>
                    
                    <p>如果计算出的目标系数 $D$ 大于当前的相机缩放，系统将触发 <code class="function">scale</code> 动画，将相机平滑拉远。</p>

                    <h3>视觉律动</h3>
                    <p>引入模拟呼吸感的微振荡算法。在输入一行代码时，相机不再是死板地水平移动，而是会产生极其微小的垂直浮动。浮动轨迹由以下公式决定：</p>

                    <div class="math-block">
                        $$ \Delta y = A \cdot \sin(\pi \alpha) \cdot \sin(\omega \alpha) $$
                    </div>

                    <table class="docs-table">
                        <thead>
                            <tr>
                                <th>变量</th>
                                <th>含义</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>$A$</td>
                                <td>振幅。设定为相机当前画幅高度的$2.5\%$。</td>
                            </tr>
                            <tr>
                                <td>$\alpha$</td>
                                <td>当前行的输入进度$(0 \to 1)$。</td>
                            </tr>
                            <tr>
                                <td>$\sin(\pi \alpha)$</td>
                                <td><strong>包络线</strong>。确保振荡在行首和行尾衰减为$0$，保证平滑过渡。</td>
                            </tr>
                            <tr>
                                <td>$\omega$</td>
                                <td>振荡频率。基于当前行的字符总长度动态计算。</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>这种叠加了包络线的正弦振荡，使得长行代码的输入过程具有了类似“书写节奏”的自然起伏感。</p>
                </section>

                <!-- 更新日志 -->
                <h1>更新日志</h1>
                <section id="1.1.1">
                    <h2><code>v1.1.1</code></h2>
                    <p>兼容 <code style="color: white;"><span class="class">manim</span>==0.19.1</code> 的更新（详见<a href="https://github.com/ZhuChongjing/CodeVideoRenderer/pull/3" target="_blank">#3</a>）</p>
                    <p>对 <code class="function">type_checker</code> 进行修改，适配 <code class="class">Literal</code> 及 <code class="class">PygmentsLanguage</code></p>
                    <p>优化终端显示</p>
                    <p>增加发光效果</p>
                    <p>将 <code>functions.py</code> 整合到 <code>CameraFollowCursorCVR.py</code> 中</p>
                    <p>适配OpenGL渲染，处理了切换OpenGL渲染时的相关问题（详见<a href="https://github.com/ZhuChongjing/CodeVideoRenderer/pull/4" target="_blank">#4</a>）</p>
                    <p>在 <code class="class">CameraFollowCursorCV</code> 中增加 <code class="variable">renderer</code> 参数，用于设置渲染器</p>
                    <p>使用 <code class="class">timeit</code> 模块计算渲染时间，避免冗余变量</p>
                    <p>删除渲染 <code class="class">Scene</code> 前的汇总输出</p>
                    <p>删除 <code>config.py</code> 中的无用常量</p>
                    <p>将 <code class="class">CameraFollowCursorCV</code> 中 <code class="variable">language</code> 参数的类型从 <code class="class">str</code> 改为 <code class="class">PygmentsLanguage</code></p>
                    <p>修改文件组织架构</p>
                </section>
                <section id="1.1.0">
                    <h2><code>v1.1.0</code></h2>
                    <p>修改相机运动逻辑</p>
                    <p>增加开头动画</p>
                    <p>修复在 <code class="function">render</code> 中使用 <code style="color: white;"><span class="variable">output</span>=<span class="literal">False</span></code> 时无法终止输出的问题</p>
                </section>
                <section id="1.0.9.post2">
                    <h2><code>v1.0.9.post2</code></h2>
                    <p>更改光标与字符的间距</p>
                </section>
                <section id="1.0.9.post1">
                    <h2><code>v1.0.9.post1</code></h2>
                    <p>修复 <code class="function">type_checker</code> 装饰器的部分问题</p>
                    <p>更改进度条样式，增加 <code class="string">{task.completed}/{task.total}</code> 一栏</p>
                </section>
                <section id="1.0.9">
                    <h2><code>v1.0.9</code></h2>
                    <p>修改相机运动逻辑，重写相机移动逻辑，增加相机自动缩放功能</p>
                    <p>使用 <code class="class">rich</code> 输出渲染开始时的数据</p>
                    <p>重写渲染进度条，现使用 <code style="color: white;"><span class="class">rich</span>.<span class="class">progress</span></code> 进行进度条输出</p>
                    <p>重写类型检查，使用 <code style="color: white;"><span class="class">rich</span>.<span class="class">traceback</span></code> 抛出更美观的错误</p>
                </section>
                <section id="1.0.8.post1">
                    <h2><code>v1.0.8.post1</code></h2>
                    <p>修复 <code>__init__.py</code> 的问题</p>
                </section>
                <section id="1.0.8">
                    <h2><code>v1.0.8</code></h2>
                    <p>修复代码偏移问题</p>
                    <p>由于 <code>Cascadia Code</code> 会将 <code class="string">>=</code> 变成 <code class="string">≥</code> 导致 <code class="class">manim</code> 内部错误，因此将字体换回 <code>Consolas</code></p>
                    <p>删除 <code>/renderer/config.py</code> 中的无用常量</p>
                </section>
                <section id="1.0.7.post3">
                    <h2><code>v1.0.7.post3</code></h2>
                    <p><code>pip</code> 未上传完整代码，重新上传</p>
                </section>
                <section id="1.0.7.post2">
                    <h2><code>v1.0.7.post2</code></h2>
                    <p>修复了代码开头有空行时的渲染问题</p>
                    <p>禁止 <code class="class">manim</code> 缓存以加快渲染速度</p>
                </section>
                <section id="1.0.7.post1">
                    <h2><code>v1.0.7.post1</code></h2>
                    <p>修复使用 <code class="variable">code_file</code> 时出现的问题</p>
                </section>
                <section id="1.0.7">
                    <h2><code>v1.0.7</code></h2>
                    <p>更新 <code>pip</code> 安装依赖配置</p>
                    <p>参数更改：</p>
                    <ul>
                        <li><code class="variable">camera_floating_maximum_value</code> → <code class="variable">camera_floating_max_value</code></li>
                        <li><code class="variable">screen_scale</code> → <code class="variable">camera_scale</code></li>
                    </ul>
                    <p>报错信息优化</p>
                </section>
                <section id="1.0.6">
                    <h2><code>v1.0.6</code></h2>
                    <p>修复代码超长导致进度条格式错误的问题</p>
                    <p>重构（<code>renderer</code>）：优化 <code class="class">CodeVideoRenderer</code> 的结构和错误处理（详见<a href="https://github.com/ZhuChongjing/CodeVideoRenderer/pull/1">#1</a>）</p>
                </section>
                <section id="1.0.5.post2">
                    <h2><code>v1.0.5.post2</code></h2>
                    <p>修复了 <code>pip</code> 依赖库安装版本问题，确保所有依赖库的版本与项目要求一致。</p>
                    <p>修复渲染输出的ANSI转义在不同编译器显示颜色不同的问题。</p>
                </section>
                <section id="1.0.5.post1">
                    <h2><code>v1.0.5.post1</code></h2>
                    <p>修复通过 <code>pip</code> 安装失败的问题</p>
                </section>
                <section id="1.0.5">
                    <h2><code>v1.0.5</code></h2>
                    <p>新增 <code class="variable">output</code> 参数到 <code class="function">render</code> 方法中，用于控制渲染输出。</p>
                    <p>将 <code class="function">CodeVideo</code> 从函数变为类 <code class="class">CodeVideo</code>，以提高代码的可维护性和扩展性。</p>
                </section>
                <section id="1.0.4">
                    <h2><code>v1.0.4</code></h2>
                    <p>修复渲染时间计算问题</p>
                    <p>删除 <code class="variable">font</code> 参数</p>
                    <p>优化终端渲染信息</p>
                    <p>优化代码运行速度</p>
                </section>
                <section id="1.0.3">
                    <h2><code>v1.0.3</code></h2>
                    <p>修复代码偏移问题（<code class="class">manim</code> 自带 bug）</p>
                    <p>修复换行时相机不及时移动的问题</p>
                    <p>修复光标在换行时不在开头停顿的问题</p>
                    <p>每行代码首尾空白字符不参与动画，以免增加动画时长</p>
                    <p>当前行背景宽度更改</p>
                    <p>新增 <code class="variable">line_spacing</code> 参数用于更改行距</p>
                    <p>优化终端渲染信息</p>
                    <p>优化相机移动逻辑</p>
                </section>
                <section id="earlier">
                    <h2>更早</h2>
                    <p><code>1.0.3</code> 及之前版本没有更新日志</p>
                </section>
            </main>
        </div>
    </section>
    
    <footer>
        <div class="container">
            <p class="copyright">Copyright © 2025 ZhuChongjing. All rights reserved. Released under MIT License.</p>
            <p style="display: inline-block;">Made with</p>
            <a href="https://gemini.google.com/" style="display: inline-block;">
                <img src="./images/gemini.png" height="15" style="display: inline-block; vertical-align: middle;" alt="Gemini">
            </a>
            <a href="https://uiverse.io" style="display: inline-block;">
                <img src="./images/uiverse.webp" height="12" style="display: inline-block; vertical-align: middle;" alt="UIverse">
            </a>
            <p style="display: inline-block; margin-left: 3px;">and</p>
            <a href="https://pradyunsg.me" style="display: inline-block;">@pradyunsg</a>'s
            <a href="https://github.com/pradyunsg/furo" style="display: inline-block;">Furo</a>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="script.js"></script>
</body>
</html>